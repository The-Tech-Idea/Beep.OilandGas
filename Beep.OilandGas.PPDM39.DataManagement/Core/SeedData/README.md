# PPDM CSV Seed Data

This folder contains the embedded CSV seed data JSON file for PPDM39 reference tables.

## Generating the JSON File

The `PPDMCSVData.json` file is generated by the `PPDMCSVDataGenerator` tool. To generate it:

1. Run the metadata generator tool (it will also generate CSV data JSON):
   ```bash
   cd Beep.OilandGas.PPDM39.DataManagement.Tools
   dotnet run [scriptFolder] [csvFolder]
   ```

   Or specify just the CSV folder:
   ```bash
   dotnet run "" "C:\Users\f_ald\OneDrive\SimpleInfoapps\PPDM\PPDM_DATA\CSV"
   ```

2. The tool will generate `PPDMCSVData.json` in this folder.

3. The JSON file will be automatically embedded as a resource when you build the project.

## Using Embedded CSV Data

Once the JSON file is generated and embedded, you can use it in your seeder:

```csharp
var orchestrator = new PPDMSeederOrchestrator(editor, commonColumnHandler, defaults, metadata, "PPDM39");

// Seed from embedded JSON data
var summary = await orchestrator.SeedAllFromEmbeddedAsync("SYSTEM");
```

## File Structure

The JSON file contains a dictionary where:
- **Key**: CSV filename (without extension), e.g., `"Life_Cycle_PPDM_20230203"`
- **Value**: `PPDMCSVData` object containing:
  - `FileName`: Original CSV filename
  - `TableName`: Extracted table name from filename pattern
  - `Headers`: List of column headers
  - `Rows`: List of data rows (each row is a list of string values)

## Notes

- The CSV files are expected to follow the pattern: `tablename_PPDM_YYYYMMDD.csv`
- The first 3 rows (logo, disclaimer, copyright) are automatically skipped
- Row 4 is treated as the header row
- Data rows start from row 5

